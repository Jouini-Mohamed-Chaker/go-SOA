<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auth Gateway API Frontend</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Auth Gateway API</h1>
            <p class="subtitle">Frontend for Authentication and API Management</p>
            <div class="user-info" id="userInfo">
                <div>
                    <span class="status-indicator" id="authStatus"></span>
                    <span id="authStatusText">Not authenticated</span>
                </div>
                <div id="userDetails"></div>
            </div>
        </header>
        
        <div class="main-content">
            <div class="auth-section">
                <h2>Authentication</h2>
                
                <div class="tab-container">
                    <button class="tab active" data-tab="login">Login</button>
                    <button class="tab" data-tab="register">Register</button>
                    <button class="tab" data-tab="validate">Validate Token</button>
                </div>
                
                <div class="tab-content active" id="login">
                    <div class="form-group">
                        <label for="loginUsername">Username</label>
                        <input type="text" id="loginUsername" placeholder="Enter username" value="user1">
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" placeholder="Enter password" value="pass123">
                    </div>
                    <button id="loginBtn" class="success">Login & Get Token</button>
                    
                    <div class="token-display hidden" id="loginToken">
                        <strong>Token:</strong> <span id="tokenValue"></span>
                    </div>
                </div>
                
                <div class="tab-content" id="register">
                    <div class="form-group">
                        <label for="registerUsername">Username *</label>
                        <input type="text" id="registerUsername" placeholder="Enter username" required>
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">Email *</label>
                        <input type="email" id="registerEmail" placeholder="Enter email" required>
                    </div>
                    <div class="form-group">
                        <label for="registerFirstName">First Name</label>
                        <input type="text" id="registerFirstName" placeholder="Enter first name">
                    </div>
                    <div class="form-group">
                        <label for="registerLastName">Last Name</label>
                        <input type="text" id="registerLastName" placeholder="Enter last name">
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Password *</label>
                        <input type="password" id="registerPassword" placeholder="Enter password" required>
                    </div>
                    <button id="registerBtn">Register New User</button>
                </div>
                
                <div class="tab-content" id="validate">
                    <div class="form-group">
                        <label for="validateToken">Token to Validate</label>
                        <textarea id="validateToken" rows="4" placeholder="Paste JWT token here"></textarea>
                    </div>
                    <button id="validateBtn">Validate Token</button>
                </div>
            </div>
            
            <div class="api-section">
                <h2>API Endpoints</h2>
                
                <div class="api-controls">
                    <select id="apiEndpoint">
                        <option value="books">GET /api/books - Get all books</option>
                        <option value="books-search">GET /api/books/search - Search books</option>
                        <option value="books-create">POST /api/books - Create book</option>
                        <option value="users">GET /api/users - Get all users</option>
                        <option value="users-create">POST /api/users - Create user</option>
                        <option value="loans">GET /api/loans - Get all loans</option>
                        <option value="loans-create">POST /api/loans - Create loan</option>
                        <option value="loans-return">PUT /api/loans/{id}/return - Return loan</option>
                        <option value="loans-user">GET /api/loans/user/{userId} - Get user's loans</option>
                    </select>
                    <button id="executeApi">Execute</button>
                </div>
                
                <div id="apiParams">
                    <!-- Dynamic parameter fields will be inserted here -->
                </div>
                
                <div class="response-container">
                    <div class="response-header">Response</div>
                    <div class="response-body" id="apiResponse">
                        Select an endpoint and click "Execute" to see results.
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Auth Gateway API Frontend | Base URL: http://localhost:8080</p>
            <p>Token expires in 10 hours | All protected endpoints require Authorization header</p>
        </footer>
    </div>
    
    <div id="notification" class="notification hidden"></div>

    <script src="main.js"></script>
</html>